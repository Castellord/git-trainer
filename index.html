<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>simple git-trainer</title>
    <link rel="stylesheet" href="dist/index.css">
  </head>
  <body>
    <input class="command-line" spellcheck="false" autofocus="true" />
    <div class="demo"></div>

    <script src="libs/lodash.min.js"></script>
    <script src="libs/d3.min.js"></script>
    <script src="libs/sha1.js"></script>

    <script src="dist/index.js"></script>

    <script>
        var myRepo = new Repo(),
            myGraph = new Graph('.demo', window.innerWidth, window.innerHeight-100),
            myCommander = new GitCommander(myRepo),

        commandLine = new CommandLine('.command-line', function() {
            myCommander.run(commandLine.getCurrent());
            myGraph.dataUpdate(myRepo.getData());
        });

        document.getElementsByClassName('demo')[0].addEventListener('dblclick', function(e) {
            if(e.srcElement && e.srcElement.tagName === 'circle') {
                commandLine.append(e.srcElement.parentNode.dataset.oid);
            }
        })

    </script>
  </body>
</html>
