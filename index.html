<!DOCTYPE html>
<html>
  <head>
    <title>simple git-trainer</title>
    <link rel="stylesheet" href="index.css">
  </head>
  <body>
    <input id="commandline" class="commandLine" spellcheck="false" autofocus="true" />
    <div class="demo"></div>

    <script src="libs/lodash.min.js"></script>
    <script src="libs/d3.min.js"></script>
    <script src="libs/sha1.js"></script>

    <script src="src/repo.js"></script>
    <script src="src/graph.js"></script>
    <script src="src/command-line.js"></script>
    <script src="src/git-commander.js"></script>

    <script>
        var myRepo = new Repo(),
            myGraph = new Graph('.demo', window.innerWidth, window.innerHeight-100),
            myCommander = new GitCommander(myRepo),

            commandLine = new CommandLine('#commandline', function(){
                myCommander.run(commandLine.getCurrent());
                myGraph.dataUpdate(myRepo.getData());
            });

        document.getElementsByClassName('demo')[0].addEventListener('dblclick', function(e) {
            if(e.srcElement && e.srcElement.tagName === 'circle') {
                commandLine.append(e.srcElement.parentNode.dataset.oid);
            }
        })

    </script>
  </body>
</html>
